<mat-tab-group>
  <mat-tab>
    <ng-template matTabLabel>
      <i18n i18n="@@userDetails">userDetails</i18n>
    </ng-template>
    <ng-container *ngIf="user">
      <user-form #form [item]="user"></user-form>
      <button mat-button [disabled]="!form.isValid" (click)="form.save()">
        <i18n i18n="@@save">save</i18n>
      </button>
    </ng-container>
  </mat-tab>

  <mat-tab [disabled]="!user.organisations">
    <ng-template matTabLabel>
      <i18n i18n="@@userOrganisations">userOrganisations</i18n>
    </ng-template>
    <ng-container *ngIf="user.organisations">
      <organisation-table [items]="user.organisations">
        <ng-container matColumnDef="approved">
          <mat-header-cell *matHeaderCellDef>
            <i18n i18n="@@approved">approved</i18n>
          </mat-header-cell>
          <mat-cell *matCellDef="let item">
            <mat-checkbox disabled [checked]="isApproved(item)">
            </mat-checkbox>
          </mat-cell>
        </ng-container>
        <ng-container matColumnDef="admin">
          <mat-header-cell *matHeaderCellDef>
            <i18n i18n="@@admin">admin</i18n>
          </mat-header-cell>
          <mat-cell *matCellDef="let item">
            <mat-checkbox disabled [checked]="isAdmin(item)">
            </mat-checkbox>
          </mat-cell>
        </ng-container>
      </organisation-table>
    </ng-container>
  </mat-tab>

  <mat-tab [disabled]="!user.organisations">
    <ng-template matTabLabel>
      <i18n i18n="@@userActivities">userActivities</i18n>
    </ng-template>
    <ng-container *ngIf="user.activities">
      <activity-table editable [items]="user.activities">
      </activity-table>
    </ng-container>
  </mat-tab>
</mat-tab-group>
